[general]
ui = ttyui
accounts = Bulters,Holder,HolderService
pythonfile=~/mailconfig/keychain.py

[Account Bulters]
localrepository = Bulters-Local
remoterepository = Bulters-Remote

[Account Holder]
localrepository = Holder-Local
remoterepository = Holder-Remote

[Account HolderService]
localrepository = HolderService-Local
remoterepository = HolderService-Remote

[Repository Bulters-Local]
type = Maildir
localfolders = ~/Mail/Bulters

[Repository Holder-Local]
type = Maildir
localfolders = ~/Mail/Holder

[Repository HolderService-Local]
type = Maildir
localfolders = ~/Mail/HolderService

[Repository Bulters-Remote]
type = Gmail
remoteuser = jeroen@bulte.rs
remotepasseval = get_keychain_pass(account="jeroen@bulte.rs", server="imap.gmail.com")
realdelete = no
nametrans = lambda folder: re.sub('.*Spam$', 'spam', re.sub('.*Drafts$', 'drafts', re.sub('.*Sent Mail$', 'sent', re.sub('.*Starred$', 'flagged', re.sub('.*Trash$', 'trash', re.sub('.*All Mail$', 'archive', folder))))))

[Repository Holder-Remote]
type = IMAP
remotehost = office.holder.nl
remoteuser = jeroen.bulters
remotepasseval = get_keychain_pass(account="jeroen.bulters", server="office.holder.nl")
realdelete = yes
ssl = yes
nametrans = lambda folder: re.sub('.*Spam$', 'spam', re.sub('.*Drafts$', 'drafts', re.sub('.*Sent Mail$', 'sent', re.sub('.*Starred$', 'flagged', re.sub('.*Trash$', 'trash', re.sub('.*All Mail$', 'archive', folder))))))

[Repository HolderService-Remote]
type = IMAP
remotehost = office.holder.nl
remoteuser = servicedienst
remotepasseval = get_keychain_pass(account="servicedienst", server="office.holder.nl")
realdelete = yes
ssl = yes
folderfilter = lambda foldername: foldername in ['INBOX', 'Archief']
